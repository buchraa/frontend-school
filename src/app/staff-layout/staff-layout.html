<div class="min-h-screen bg-slate-950 text-slate-100">
  <!-- topbar -->
  <header class="h-14 border-b border-slate-800 bg-slate-950/80 backdrop-blur flex items-center justify-between px-4">
    <div class="flex items-center gap-2">
      <button class="md:hidden px-2 py-1 rounded bg-slate-800" (click)="toggleMobile()">☰</button>
      <div class="font-semibold text-sm">Espace Staff</div>
    </div>

    <div class="text-xs text-slate-300 flex items-center gap-3">
      @if (user()) {
        <span>{{ user()!.email }}</span>
        <span class="px-2 py-1 rounded bg-slate-800">{{ user()!.role }}</span>
      }
      <button class="px-3 py-1 rounded bg-red-500/80 hover:bg-red-500 text-white" (click)="logout()">
        Déconnexion
      </button>
    </div>
  </header>

  <div class="flex">
    <!-- sidebar desktop -->
    <aside class="hidden md:block w-64 border-r border-slate-800 p-3">
      <nav class="space-y-1">
        @for (item of menu; track item.label) {
          <a [routerLink]="item.to"
             class="block px-3 py-2 rounded text-sm text-slate-200 hover:bg-slate-900">
            {{ item.label }}
          </a>
        }
      </nav>
    </aside>

    <!-- sidebar mobile -->
    @if (mobileOpen()) {
      <div class="md:hidden fixed inset-0 bg-black/50 z-40" (click)="toggleMobile()"></div>
      <aside class="md:hidden fixed z-50 top-14 left-0 w-72 h-[calc(100vh-3.5rem)] bg-slate-950 border-r border-slate-800 p-3">
        <nav class="space-y-1">
          @for (item of menu; track item.label) {
            <a [routerLink]="item.to"
               (click)="mobileOpen.set(false)"
               class="block px-3 py-2 rounded text-sm text-slate-200 hover:bg-slate-900">
              {{ item.label }}
            </a>
          }
        </nav>
      </aside>
    }

    <!-- content -->
    <main class="flex-1 p-4 md:p-6">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
